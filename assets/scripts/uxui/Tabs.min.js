import{buildTag as e}from"../helpers/buildtag.min.js";import{isNodeDOM as t}from"../helpers/formgroup.min.js";let Tabs=function(){let a=this;return a.init=({id:e,tabList:t})=>{if(e&&t)return a.createTabs({id:e,tabList:t})},a.createTabs=({id:t,tabList:s})=>{let r=e({tag:"div",className:"tabs",id:t,innerHTML:`
                    <div class=tabs__header></div>
                    <div class=tabs__content></div>
               `}),n=a.reateButtons({tabList:s,onClick:a.changeTabs}),i=a.getTabContent({tabList:s});return r.querySelector(".tabs__header").append(...n),r.querySelector(".tabs__content").append(...i),r},a.reateButtons=({tabList:t,onClick:a})=>t.map((t,s)=>{let r=Object.keys(t)[0],{tabHeader:n}=t[r];return e({tag:"div",className:`tabs__button ${0===s?"active":""}`,target:r,innerHTML:n,onclick:e=>a(e)})}),a.getTabContent=({tabList:a})=>a.map((a,s)=>{let r=Object.keys(a)[0],{innerHTML:n}=a[r]||"",i={};return""!=n&&(i=t(n)?{append:[n]}:{innerHTML:n}),e({tag:"div",className:`tabs__element ${0===s?"active":""}`,id:r,...i})}),a.changeTabs=e=>{let t=e.target,a=t.parentElement;if(-1!=t.className.indexOf("active"))return;Array.from(a.childNodes).map(e=>e.classList.remove("active")),t.classList.add("active");let s=t.target,r=document.getElementById(s);Array.from(r.parentElement.childNodes).map(e=>e.classList.remove("active")),r.classList.add("active")},a};export{Tabs};